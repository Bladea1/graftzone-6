document.addEventListener('DOMContentLoaded', function() {
    // Инициализация AOS
    AOS.init({
        duration: 800,
        once: true
    });

    // Получаем параметры из URL
    const urlParams = new URLSearchParams(window.location.search);
    const postId = urlParams.get('id');
    const category = urlParams.get('category');
    const title = urlParams.get('title');

    // Данные о статьях
    const blogPosts = {
        1: {
            title: 'История граффити: от древних времен до наших дней',
            author: 'Admin',
            date: '15 июня 2025',
            category: 'История',
            image: 'img/blog1.jpg',
            tags: ['История', 'Культура', 'Искусство'],
            content: `
                <img src="img/blog1.jpg" class="img-fluid mb-4" alt="История граффити">
                <div class="post-meta mb-4">
                    <span class="me-3"><i class="fas fa-user me-2"></i>Admin</span>
                    <span class="me-3"><i class="fas fa-calendar me-2"></i>15 июня 2025</span>
                    <span><i class="fas fa-tag me-2"></i>История</span>
                </div>
                <h1 class="mb-4">История граффити: от древних времен до наших дней</h1>
                <p>Граффити как форма самовыражения существует уже тысячи лет. От наскальных рисунков до современного стрит-арта, эта форма искусства прошла долгий путь развития и трансформации.</p>
                <h2>Древние истоки</h2>
                <p>Первые примеры граффити можно найти в пещерных рисунках, датируемых более 30,000 лет назад. Эти древние художники использовали природные пигменты для создания изображений животных, сцен охоты и повседневной жизни.</p>
                <h2>Античность и Средневековье</h2>
                <p>В античном мире граффити были распространены в Древнем Риме и Греции. Археологи находят множество надписей на стенах Помпеи, которые рассказывают о политической, социальной и культурной жизни того времени.</p>
                <h2>Современная эра</h2>
                <p>Современное граффити начало формироваться в 1960-х годах в Филадельфии и Нью-Йорке. Молодые художники использовали стены городских зданий как холсты для своего творчества, создавая новый визуальный язык улиц.</p>
                <h2>Техники и стили</h2>
                <p>За последние десятилетия граффити эволюционировало в множество различных стилей:</p>
                <ul>
                    <li>Теги и подписи</li>
                    <li>Throw-ups (быстрые рисунки)</li>
                    <li>Pieces (сложные композиции)</li>
                    <li>Wildstyle (сложный, переплетающийся стиль букв)</li>
                    <li>3D граффити</li>
                    <li>Фотореалистичные муралы</li>
                </ul>
                <h2>Влияние на современное искусство</h2>
                <p>Сегодня граффити признано полноценной формой современного искусства. Работы таких художников как Бэнкси, Жан-Мишель Баския и Keith Haring выставляются в престижных галереях и продаются за миллионы долларов.</p>
                <h2>Будущее граффити</h2>
                <p>С развитием технологий появляются новые формы уличного искусства: цифровые проекции, интерактивные инсталляции, дополненная реальность. Но традиционное граффити продолжает оставаться мощным инструментом самовыражения и социального комментария.</p>
            `,
            comments: [
                {
                    author: 'StreetArtLover',
                    date: '16 июня 2025',
                    content: 'Отличная статья! Очень интересно было узнать об истоках граффити.'
                },
                {
                    author: 'HistoryBuff',
                    date: '16 июня 2025',
                    content: 'Познавательно! Не знал, что граффити имеет такую богатую историю.'
                }
            ]
        },
        2: {
            title: '5 основных техник создания граффити',
            author: 'StreetMaster',
            date: '10 июня 2025',
            category: 'Техники',
            image: 'img/blog2.jpg',
            tags: ['Техники', 'Туториалы', 'Обучение'],
            content: `
                <p>Разбираем основные техники создания граффити: от простых тегов до сложных 3D композиций. Каждая техника имеет свои особенности и требует определенных навыков.</p>

                <h2>1. Теги (Tags)</h2>
                <p>Базовая форма граффити - это подпись художника. Несмотря на кажущуюся простоту, создание качественного тега требует отточенной техники и понимания каллиграфии.</p>
                <ul>
                    <li>Выбор маркера или баллончика</li>
                    <li>Отработка плавности линий</li>
                    <li>Создание уникального стиля</li>
                    <li>Практика скорости исполнения</li>
                </ul>

                <h2>2. Throw-ups</h2>
                <p>Быстрые рисунки, обычно состоящие из контура и заливки. Эта техника требует баланса между скоростью и качеством исполнения.</p>
                <ul>
                    <li>Создание эскиза</li>
                    <li>Работа с контуром</li>
                    <li>Техника заливки</li>
                    <li>Добавление эффектов</li>
                </ul>

                <h2>3. Pieces</h2>
                <p>Сложные композиции с множеством цветов и эффектов. Это полноценные художественные работы, требующие тщательного планирования.</p>
                <ul>
                    <li>Разработка концепции</li>
                    <li>Создание детального эскиза</li>
                    <li>Работа со слоями</li>
                    <li>Добавление теней и бликов</li>
                </ul>

                <h2>4. Wildstyle</h2>
                <p>Сложный стиль с переплетающимися буквами. Требует глубокого понимания типографики и композиции.</p>
                <ul>
                    <li>Изучение базовых форм</li>
                    <li>Работа с пересечениями</li>
                    <li>Добавление стрелок и украшений</li>
                    <li>Создание динамики</li>
                </ul>

                <h2>5. 3D Граффити</h2>
                <p>Объемные работы, создающие иллюзию трехмерности. Требуют понимания перспективы и светотени.</p>
                <ul>
                    <li>Построение перспективы</li>
                    <li>Работа со светом и тенью</li>
                    <li>Создание глубины</li>
                    <li>Использование оптических иллюзий</li>
                </ul>
            `,
            comments: [
                {
                    author: 'NewArtist',
                    date: '11 июня 2025',
                    content: 'Спасибо за подробное объяснение! Теперь понятно, с чего начать.'
                },
                {
                    author: 'GraffitiPro',
                    date: '12 июня 2025',
                    content: 'Отличный обзор техник. Особенно полезна информация про wildstyle.'
                }
            ]
        },
        3: {
            title: 'Легальное граффити: как получить разрешение на роспись',
            author: 'NeonKnight',
            date: '5 июня 2025',
            category: 'Советы',
            image: 'img/blog3.jpg',
            tags: ['Законодательство', 'Советы', 'Организация'],
            content: `
                <p>Пошаговая инструкция по получению разрешения на создание граффити на городских объектах. Легальное творчество открывает новые возможности для художников.</p>

                <h2>Подготовка документов</h2>
                <p>Первый шаг к легальному граффити - это правильная подготовка документации:</p>
                <ul>
                    <li>Портфолио работ</li>
                    <li>Эскиз планируемой работы</li>
                    <li>Описание проекта</li>
                    <li>Расчет времени и материалов</li>
                </ul>

                <h2>Выбор локации</h2>
                <p>Важно правильно выбрать место для будущей работы:</p>
                <ul>
                    <li>Определение владельца объекта</li>
                    <li>Оценка состояния поверхности</li>
                    <li>Анализ окружающей среды</li>
                    <li>Учет мнения местных жителей</li>
                </ul>

                <h2>Получение разрешений</h2>
                <p>Процесс согласования может включать несколько этапов:</p>
                <ul>
                    <li>Обращение к владельцу объекта</li>
                    <li>Согласование с местной администрацией</li>
                    <li>Получение разрешения от архитектурного отдела</li>
                    <li>Согласование с коммунальными службами</li>
                </ul>

                <h2>Организация работы</h2>
                <p>После получения разрешений необходимо правильно организовать процесс:</p>
                <ul>
                    <li>Подготовка поверхности</li>
                    <li>Обеспечение безопасности</li>
                    <li>Согласование графика работ</li>
                    <li>Информирование местных жителей</li>
                </ul>

                <h2>Документальное оформление</h2>
                <p>Важно правильно оформить все документы:</p>
                <ul>
                    <li>Договор с заказчиком</li>
                    <li>Акты выполненных работ</li>
                    <li>Фотофиксация процесса</li>
                    <li>Гарантийные обязательства</li>
                </ul>
            `,
            comments: [
                {
                    author: 'LegalArt',
                    date: '6 июня 2025',
                    content: 'Очень полезная информация! Сохранил себе для будущих проектов.'
                },
                {
                    author: 'CityArtist',
                    date: '7 июня 2025',
                    content: 'Спасибо за подробную инструкцию. Особенно ценны советы по подготовке документов.'
                }
            ]
        },
        4: {
            title: 'Диджитал граффити: новая эра уличного искусства',
            author: 'TechArtist',
            date: '1 июня 2025',
            category: 'Технологии',
            image: 'img/blog4.jpg',
            tags: ['Технологии', 'Инновации', 'Диджитал'],
            content: `
                <p>Исследуем, как цифровые технологии меняют мир граффити. От проекционного маппинга до интерактивных инсталляций - будущее уже здесь.</p>

                <h2>Проекционное граффити</h2>
                <p>Использование проекторов для создания динамических изображений на стенах зданий:</p>
                <ul>
                    <li>Временные инсталляции</li>
                    <li>Анимированные работы</li>
                    <li>Интерактивные проекции</li>
                    <li>Масштабные шоу</li>
                </ul>

                <h2>AR-граффити</h2>
                <p>Дополненная реальность открывает новые возможности:</p>
                <ul>
                    <li>Интерактивные элементы</li>
                    <li>Скрытые слои изображений</li>
                    <li>Динамические изменения</li>
                    <li>Взаимодействие со зрителем</li>
                </ul>

                <h2>Цифровые инструменты</h2>
                <p>Современные технологии для создания граффити:</p>
                <ul>
                    <li>Планшеты и стилусы</li>
                    <li>3D-моделирование</li>
                    <li>Программы для эскизов</li>
                    <li>Цифровые спреи</li>
                </ul>

                <h2>Виртуальные галереи</h2>
                <p>Новые способы презентации работ:</p>
                <ul>
                    <li>VR-выставки</li>
                    <li>Онлайн-галереи</li>
                    <li>Интерактивные туры</li>
                    <li>NFT-коллекции</li>
                </ul>
            `,
            comments: [
                {
                    author: 'DigitalArtist',
                    date: '2 июня 2025',
                    content: 'Будущее уже здесь! Очень интересные перспективы открываются.'
                },
                {
                    author: 'TechLover',
                    date: '3 июня 2025',
                    content: 'AR-граффити - это что-то невероятное! Нужно попробовать.'
                }
            ]
        },
        5: {
            title: 'Экологичное граффити: материалы будущего',
            author: 'GreenArtist',
            date: '25 мая 2025',
            category: 'Экология',
            image: 'img/blog5.jpg',
            tags: ['Экология', 'Материалы', 'Инновации'],
            content: `
                <p>Изучаем экологичные материалы и подходы к созданию граффити. Как сделать уличное искусство более дружелюбным к окружающей среде?</p>

                <h2>Природные краски</h2>
                <p>Использование натуральных пигментов и материалов:</p>
                <ul>
                    <li>Растительные красители</li>
                    <li>Минеральные пигменты</li>
                    <li>Природные связующие</li>
                    <li>Безопасные растворители</li>
                </ul>

                <h2>Биоразлагаемые материалы</h2>
                <p>Новое поколение материалов для граффити:</p>
                <ul>
                    <li>Экологичные аэрозоли</li>
                    <li>Биоразлагаемые маркеры</li>
                    <li>Натуральные грунтовки</li>
                    <li>Органические фиксативы</li>
                </ul>

                <h2>Мох-граффити</h2>
                <p>Создание живых картин из мха:</p>
                <ul>
                    <li>Подготовка смеси</li>
                    <li>Нанесение рисунка</li>
                    <li>Уход за композицией</li>
                    <li>Сезонные изменения</li>
                </ul>

                <h2>Временное искусство</h2>
                <p>Работы, которые не оставляют следа:</p>
                <ul>
                    <li>Водные граффити</li>
                    <li>Световые инсталляции</li>
                    <li>Песочные картины</li>
                    <li>Снежные рисунки</li>
                </ul>
            `,
            comments: [
                {
                    author: 'EcoArt',
                    date: '26 мая 2025',
                    content: 'Отличные идеи для экологичного творчества!'
                },
                {
                    author: 'NatureLover',
                    date: '27 мая 2025',
                    content: 'Мох-граффити звучит интересно, нужно попробовать.'
                }
            ]
        },
        6: {
            title: 'Граффити-фестивали мира: куда поехать в 2025',
            author: 'FestivalGuide',
            date: '20 мая 2025',
            category: 'События',
            image: 'img/blog6.jpg',
            tags: ['Фестивали', 'Путешествия', 'События'],
            content: `
                <p>Обзор самых интересных граффити-фестивалей по всему миру. Планируйте свои путешествия и встречи с уличным искусством!</p>

                <h2>Европейские фестивали</h2>
                <p>Главные события Европы:</p>
                <ul>
                    <li>Meeting of Styles (Германия)</li>
                    <li>Upfest (Великобритания)</li>
                    <li>Nuart Festival (Норвегия)</li>
                    <li>Urban Nation (Берлин)</li>
                </ul>

                <h2>Американские фестивали</h2>
                <p>Крупнейшие события в Америке:</p>
                <ul>
                    <li>Art Basel Miami</li>
                    <li>Pow! Wow! Hawaii</li>
                    <li>Living Walls (Атланта)</li>
                    <li>Mural Festival (Монреаль)</li>
                </ul>

                <h2>Азиатские фестивали</h2>
                <p>Развивающаяся сцена Азии:</p>
                <ul>
                    <li>Street Art Bangkok</li>
                    <li>Urban Art Japan</li>
                    <li>Seoul Street Arts Festival</li>
                    <li>HKwalls (Гонконг)</li>
                </ul>

                <h2>Подготовка к фестивалю</h2>
                <p>Что нужно знать участникам:</p>
                <ul>
                    <li>Регистрация и дедлайны</li>
                    <li>Необходимые материалы</li>
                    <li>Проживание и логистика</li>
                    <li>Нетворкинг</li>
                </ul>
            `,
            comments: [
                {
                    author: 'Traveller',
                    date: '21 мая 2025',
                    content: 'Спасибо за подборку! Уже планирую поездку на Upfest.'
                },
                {
                    author: 'ArtExplorer',
                    date: '22 мая 2025',
                    content: 'Азиатские фестивали особенно интересны, там совсем другой подход к стрит-арту.'
                }
            ]
        },
        7: {
            title: 'Граффити в интерьере: от эскиза до реализации',
            author: 'InteriorArtist',
            date: '15 мая 2025',
            category: 'Интерьер',
            image: 'img/blog7.jpg',
            tags: ['Интерьер', 'Дизайн', 'Проекты'],
            content: `
                <p>Как перенести уличное искусство в интерьер? Рассказываем о создании граффити для жилых и коммерческих помещений.</p>

                <h2>Планирование проекта</h2>
                <p>Важные этапы подготовки:</p>
                <ul>
                    <li>Анализ пространства</li>
                    <li>Создание концепции</li>
                    <li>Выбор стиля</li>
                    <li>Согласование с заказчиком</li>
                </ul>

                <h2>Подготовка поверхности</h2>
                <p>Технические моменты:</p>
                <ul>
                    <li>Очистка стен</li>
                    <li>Грунтовка</li>
                    <li>Разметка</li>
                    <li>Защита окружающих поверхностей</li>
                </ul>

                <h2>Материалы для интерьера</h2>
                <p>Специфика выбора:</p>
                <ul>
                    <li>Безопасные краски</li>
                    <li>Защитные покрытия</li>
                    <li>Специальные маркеры</li>
                    <li>Трафареты</li>
                </ul>

                <h2>Особенности работы</h2>
                <p>На что обратить внимание:</p>
                <ul>
                    <li>Вентиляция помещения</li>
                    <li>Освещение</li>
                    <li>Время высыхания</li>
                    <li>Финальная обработка</li>
                </ul>
            `,
            comments: [
                {
                    author: 'HomeDesigner',
                    date: '16 мая 2025',
                    content: 'Отличное руководство! Особенно важна информация про материалы.'
                },
                {
                    author: 'ArtLover',
                    date: '17 мая 2025',
                    content: 'Планирую сделать граффити в детской, очень полезные советы.'
                }
            ]
        },
        8: {
            title: 'Коммерческое граффити: как заработать на уличном искусстве',
            author: 'BusinessArt',
            date: '10 мая 2025',
            category: 'Бизнес',
            image: 'img/blog8.jpg',
            tags: ['Бизнес', 'Карьера', 'Советы'],
            content: `
                <p>Превращаем хобби в профессию: как монетизировать свои навыки в граффити и стать успешным коммерческим художником.</p>

                <h2>Создание портфолио</h2>
                <p>Ключевые элементы:</p>
                <ul>
                    <li>Профессиональные фото работ</li>
                    <li>Разнообразие стилей</li>
                    <li>Описание проектов</li>
                    <li>Отзывы клиентов</li>
                </ul>

                <h2>Поиск клиентов</h2>
                <p>Эффективные стратегии:</p>
                <ul>
                    <li>Социальные сети</li>
                    <li>Сайт-портфолио</li>
                    <li>Нетворкинг</li>
                    <li>Участие в выставках</li>
                </ul>

                <h2>Ценообразование</h2>
                <p>Как формировать цены:</p>
                <ul>
                    <li>Расчет материалов</li>
                    <li>Оценка времени</li>
                    <li>Сложность работы</li>
                    <li>Рыночные ставки</li>
                </ul>

                <h2>Юридические аспекты</h2>
                <p>Важные моменты:</p>
                <ul>
                    <li>Регистрация бизнеса</li>
                    <li>Договоры с клиентами</li>
                    <li>Страхование</li>
                    <li>Авторские права</li>
                </ul>
            `,
            comments: [
                {
                    author: 'StartupArtist',
                    date: '11 мая 2025',
                    content: 'Очень полезная информация для начинающих коммерческих художников!'
                },
                {
                    author: 'ArtBusiness',
                    date: '12 мая 2025',
                    content: 'Отличные советы по ценообразованию, многое взял на заметку.'
                }
            ]
        },
        9: {
            title: 'AR-граффити: создаем интерактивное искусство',
            author: 'ARtist',
            date: '5 мая 2025',
            category: 'Технологии',
            image: 'img/blog9.jpg',
            tags: ['AR', 'Технологии', 'Инновации'],
            content: `
                <p>Погружаемся в мир дополненной реальности: как создавать интерактивные граффити с помощью AR-технологий.</p>

                <h2>Необходимые инструменты</h2>
                <p>Что потребуется:</p>
                <ul>
                    <li>AR-приложения</li>
                    <li>3D-редакторы</li>
                    <li>Программы для анимации</li>
                    <li>Маркеры и триггеры</li>
                </ul>

                <h2>Создание AR-контента</h2>
                <p>Основные этапы:</p>
                <ul>
                    <li>Разработка концепции</li>
                    <li>Создание 3D-моделей</li>
                    <li>Настройка анимации</li>
                    <li>Интеграция с AR</li>
                </ul>

                <h2>Технические аспекты</h2>
                <p>Важные моменты:</p>
                <ul>
                    <li>Оптимизация моделей</li>
                    <li>Настройка освещения</li>
                    <li>Тестирование взаимодействия</li>
                    <li>Отладка приложения</li>
                </ul>

                <h2>Примеры проектов</h2>
                <p>Успешные реализации:</p>
                <ul>
                    <li>Интерактивные муралы</li>
                    <li>AR-выставки</li>
                    <li>Городские квесты</li>
                    <li>Образовательные проекты</li>
                </ul>
            `,
            comments: [
                {
                    author: 'TechArtFan',
                    date: '6 мая 2025',
                    content: 'Потрясающие возможности! Обязательно попробую создать что-то подобное.'
                },
                {
                    author: 'ARExplorer',
                    date: '7 мая 2025',
                    content: 'Спасибо за подробное объяснение технической стороны.'
                }
            ]
        }
    };

    // Получаем ID статьи из URL
    function getPostId() {
        const urlParams = new URLSearchParams(window.location.search);
        return parseInt(urlParams.get('id')) || 1;
    }

    // Загружаем данные статьи
    function loadPost() {
        const postId = getPostId();
        const post = blogPosts[postId];

        if (!post) {
            window.location.href = 'blog.html';
            return;
        }

        // Обновляем заголовок страницы
        document.title = `${post.title} — GraffZone`;

        // Обновляем хлебные крошки
        document.getElementById('post-title-breadcrumb').textContent = post.title;

        // Обновляем метаданные статьи
        document.getElementById('post-title').textContent = post.title;
        document.getElementById('post-date').textContent = post.date;
        document.getElementById('post-author').textContent = post.author;
        document.getElementById('post-category').textContent = post.category;

        // Обновляем изображение
        const postImage = document.getElementById('post-image');
        postImage.src = post.image;
        postImage.alt = post.title;

        // Добавляем контент
        document.getElementById('post-content').innerHTML = post.content;

        // Добавляем теги
        const tagsContainer = document.getElementById('post-tags');
        tagsContainer.innerHTML = post.tags.map(tag => 
            `<a href="#" class="tag-badge" data-tag="${tag.toLowerCase()}">${tag}</a>`
        ).join('');

        // Добавляем комментарии
        const commentsContainer = document.getElementById('comments-list');
        commentsContainer.innerHTML = post.comments.map(comment => `
            <div class="comment">
                <div class="comment-header">
                    <span class="comment-author">${comment.author}</span>
                    <span class="comment-date">${comment.date}</span>
                </div>
                <div class="comment-content">
                    <p>${comment.content}</p>
                </div>
            </div>
        `).join('');
    }

    // Если есть ID статьи, отображаем её
    if (postId) {
        loadPost();
    }

    // Обработка отправки комментария
    const commentForm = document.querySelector('.comment-form');
    if (commentForm) {
        commentForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('comment-name').value;
            const email = document.getElementById('comment-email').value;
            const text = document.getElementById('comment-text').value;

            // Здесь должна быть отправка комментария на сервер
            // Пока просто показываем уведомление
            alert('Спасибо за ваш комментарий! После модерации он появится на сайте.');
            
            // Очищаем форму
            this.reset();
        });
    }
}); 